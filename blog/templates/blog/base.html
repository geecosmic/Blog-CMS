{% load group_filters %}

<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>{% block title %}My Blog{% endblock %}</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">
  <style>
    body {
      background: #f5f7fb;
       font-family: 'Roboto, Arial, sans-serif';
    }

    .topbar {
      background: linear-gradient(135deg, #1abc9c, #16a085);
    }

    .topbar .navbar-brand,
    .topbar .nav-link {
      color: #fff !important;
      font-weight: 500;
    }

    .layout {
      display: flex;
      min-height: calc(100vh - 56px);
    }

    .sidebar {
      width: 240px;
      background: #ffffff;
      box-shadow: 2px 0 12px rgba(0,0,0,0.05);
      padding: 20px 10px;
    }

    .sidebar h6 {
      color: #888;
      font-size: 12px;
      text-transform: uppercase;
      margin: 10px 15px;
    }

    .sidebar a {
      display: block;
      padding: 10px 15px;
      border-radius: 10px;
      color: #333;
      text-decoration: none;
      margin-bottom: 5px;
      transition: 0.2s;
    }

    .sidebar a:hover,
    .sidebar a.active {
      background: #e8f6f3;
      color: #16a085;
      font-weight: 600;
    }

    .content-area {
      flex: 1;
      padding: 30px;
    }

    footer {
      background: #111;
      color: #aaa;
      text-align: center;
      padding: 12px;
      font-size: 13px;
    }

    @media (max-width: 768px) {
      .layout {
        flex-direction: column;
      }
      .sidebar {
        width: 100%;
        display: flex;
        overflow-x: auto;
      }
      .sidebar a {
        white-space: nowrap;
        margin-right: 8px;
      }
    }








.table-wrapper {
  background: #ffffff;
  padding: 20px;
  border-radius: 16px;
  box-shadow: 0 10px 25px rgba(0, 0, 0, 0.05);
}

.stylish-table {
  border-collapse: separate;
  border-spacing: 0 10px;
}

.stylish-table thead th {
  background: #f8f9fc;
  color: #333;
  font-weight: 600;
  border: none;
  padding: 14px;
}

.stylish-table tbody tr {
  background: #fff;
  border-radius: 12px;
  transition: all 0.2s ease;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.03);
}

.stylish-table tbody tr:hover {
  transform: translateY(-2px);
  box-shadow: 0 8px 18px rgba(0, 0, 0, 0.08);
}

.stylish-table td {
  border: none;
  padding: 14px;
  vertical-align: middle;
}

.status-badge {
  padding: 6px 12px;
  border-radius: 20px;
  font-size: 12px;
  font-weight: 600;
  text-transform: capitalize;
}

.status-badge.published {
  background: #e6f7f0;
  color: #0f9d58;
}

.status-badge.draft {
  background: #fff3cd;
  color: #856404;
}

.status-badge.archived {
  background: #f8d7da;
  color: #842029;
}

.btn-edit {
  background: linear-gradient(135deg, #5f72ff, #9b5cff);
  color: white;
  border: none;
  border-radius: 20px;
  padding: 6px 14px;
  font-size: 13px;
  transition: all 0.2s ease;
}

.btn-edit:hover {
  opacity: 0.9;
  transform: scale(1.05);
}

.empty-row {
  color: #999;
  font-style: italic;
  padding: 20px;
}


/* ===for homepage [post_list]============= */

.post-card {
  background: #fff;
  border-radius: 18px;
  overflow: hidden;
  box-shadow: 0 8px 20px rgba(0, 0, 0, 0.05);
  transition: all 0.25s ease;
  display: flex;
  flex-direction: column;
}

.post-card:hover {
  transform: translateY(-6px);
  box-shadow: 0 14px 30px rgba(0, 0, 0, 0.12);
}

.post-img {
  height: 200px;
  overflow: hidden;
}

.post-img img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  transition: transform 0.4s ease;
}

.post-card:hover .post-img img {
  transform: scale(1.08);
}

.post-body {
  padding: 18px;
  display: flex;
  flex-direction: column;
  flex-grow: 1;
}

.post-title {
  font-size: 1.1rem;
  font-weight: 600;
  margin-bottom: 8px;
}

.post-text {
  color: #555;
  font-size: 0.95rem;
  flex-grow: 1;
}

.btn-read {
  align-self: flex-start;
  margin-top: 12px;
  background: linear-gradient(135deg, #5f72ff, #9b5cff);
  color: #fff;
  border-radius: 20px;
  padding: 7px 16px;
  font-size: 13px;
  border: none;
  text-decoration: none;
  transition: all 0.2s ease;
}

.btn-read:hover {
  opacity: 0.9;
  transform: translateX(4px);
  color: #fff;
}




  </style>
  {% block extra_head %}{% endblock %}
</head>
<body>
<div class="spacer" style="height:8px;background-color: #000;"></div>
<!-- Top Navbar -->
<nav class="navbar navbar-expand-lg topbar">
  <div class="container-fluid">
    <a class="navbar-brand" href="/">My Blog</a>

    <div class="ms-auto d-flex align-items-center">
      {% if user.is_authenticated %}
        <span class="me-3 text-white">
          {{ user.get_full_name|default:user.username }}
          {% if user.is_superuser %}(Admin)
          {% elif user|has_group:"Editor" %}(Editor)
          {% elif user|has_group:"Author" %}(Author)
          {% endif %}
        </span>
        <a class="btn btn-light btn-sm" href="{% url 'logout' %}">Logout</a>
      {% else %}
        <a class="btn btn-light btn-sm" href="/login/">Login</a>
        <!-- <a class="btn btn-light btn-sm" href="{% url 'login' %}">Login</a> -->
      {% endif %}
    </div>
  </div>
</nav>




<div class="layout">

  <!-- Sidebar -->
  <aside class="sidebar">
    <h6>Navigation</h6>

    <a href="/">üè† Home</a>
    <!-- <a href="{% url 'login' %}">üè† Sign In</a> -->

    {% if user.is_authenticated and user.is_superuser %}
    <a href="{% url 'author_applications' %}">üè† Inbox</a>
    {% endif %}

    {% if user.is_authenticated and user.is_superuser %}
    <a href="{% url 'admin_register_user' %}">üè† Register User</a>
    {% endif %}

    <a href="#">‚≠ê Featured</a>

    <a href="{% url 'category_list' %}">üìÇ Categories</a>

    {% if not user.is_authenticated %}
    <a href="{% url 'subscribe' %}">üîî Subscribe</a>
    {% endif %}

    {% if user.is_authenticated %}
      <h6>Dashboard</h6>

      <a href="{% url 'add_post' %}">‚ûï New Post</a>

{% if user.is_superuser or user|has_group:"Editor" %}
      <a href="{% url 'dashboard' %}">üìù All Posts</a>
{% else %}
      <a href="{% url 'dashboard' %}">üìù My Posts</a>
{% endif %}

      {% if user.is_superuser %}
        <h6>Admin</h6>
        <a href="/admin/">‚öô Admin Panel</a>
        <a href="#">üë• Users</a>
      {% endif %}
    {% endif %}
  </aside>

  <!-- Main Content -->
  <main class="content-area">
    {% block content %}{% endblock %}
  </main>
</div>

<footer>
  &copy; {{ year }} My Blog. All rights reserved.
</footer>

</body>
</html>
